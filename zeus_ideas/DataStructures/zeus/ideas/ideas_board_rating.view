{
  "viewName":"ZEUS_BOARD_RATING",
  "query":"SELECT
	ZEUSB_ID,
	COUNT(DISTINCT ZEUSV_ID) AS TOTAL_VOTES, 
	SUM(ZEUSV_VOTE) AS RATING,
    SUM(CASE WHEN ZEUSV_VOTE > 0 THEN ZEUSV_VOTE ELSE 0 END) AS UPVOTES,	
	ABS(SUM(CASE WHEN ZEUSV_VOTE < 0 THEN ZEUSV_VOTE ELSE 0 END)) AS DOWNVOTES
FROM ZEUS_BOARD, ZEUS_BOARD_VOTE
WHERE ZEUSB_ID = ZEUSV_ZEUSB_ID
GROUP BY ZEUSB_ID, 
	     ZEUSB_PUBLISH_TIME
ORDER BY RATING, TOTAL_VOTES, ZEUSB_PUBLISH_TIME DESC"
}
